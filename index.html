<!DOCTYPE html>
<html>
  <head>
    <title>Formulário de várias etapas</title>
    <style>
      /* Esconde todas as etapas, exceto a primeira */
      fieldset:not(:first-of-type) {
        display: none;
      }
    </style>
  </head>
  <body>
    <form id="form" action="#" method="post">
      <fieldset>
        <legend>Etapa 1</legend>
        <label for="campo1">Campo 1:</label>
        <input type="text" id="campo1" name="campo1" required />
        <br /><br />
        <button type="button" class="proximo">Próximo</button>
      </fieldset>

      <fieldset>
        <legend>Etapa 2</legend>
        <label for="campo2">Campo 2:</label>
        <input type="text" id="campo2" name="campo2" required />
        <br /><br />
        <button type="button" class="voltar">Voltar</button>
        <button type="button" class="proximo">Próximo</button>
      </fieldset>

      <fieldset>
        <legend>Etapa 3</legend>
        <label for="campo3">Campo 3:</label>
        <input type="text" id="campo3" name="campo3" required />
        <br /><br />
        <button type="button" class="voltar">Voltar</button>
        <button type="button" class="proximo">Próximo</button>
      </fieldset>

      <fieldset>
        <legend>Etapa 4</legend>
        <label for="campo4">Campo 4:</label>
        <input type="text" id="campo4" name="campo4" required />
        <br /><br />
        <button type="button" class="voltar">Voltar</button>
        <button type="submit">Enviar</button>
      </fieldset>
    </form>

    <script>
      const form = document.querySelector("#form");
      const etapas = form.querySelectorAll("fieldset");
      const botoesProximo = form.querySelectorAll(".proximo");
      const botoesVoltar = form.querySelectorAll(".voltar");
      let etapaAtual = 0;

      // Esconde todas as etapas, exceto a primeira
      function esconderEtapas() {
        etapas.forEach((etapa) => {
          etapa.style.display = "none";
        });
      }
      esconderEtapas();
      etapas[etapaAtual].style.display = "block";

      // Avança para a próxima etapa
      function proximaEtapa() {
        etapaAtual++;
        esconderEtapas();
        etapas[etapaAtual].style.display = "block";

        if (etapaAtual > 0) {
          botoesVoltar.forEach((botao) => {
            botao.disabled = false;
          });
        }

        if (etapaAtual === etapas.length - 1) {
          botoesProximo.forEach((botao) => {
            botao.style.display = "none";
          });
        }
      }

      // Volta para a etapa anterior
      function etapaAnterior() {
        etapaAtual--;
        esconderEtapas();
        etapas[etapaAtual].style.display = "block";

        if (etapaAtual === 0) {
          botoesVoltar.forEach((botao) => {
            botao.disabled = true;
          });
        }

        if (etapaAtual < etapas.length - 1) {
          botoesProximo.forEach((botao) => {
            botao.style.display = "block";
          });
        }
      }

      // Adiciona os event listeners aos botões "Próximo" e "Voltar"
      botoesProximo.forEach((botao) => {
        botao.addEventListener("click", proximaEtapa);
      });
      botoesVoltar.forEach((botao) => {
        botao.addEventListener("click", etapaAnterior);
      });
    </script>
  </body>
</html>
